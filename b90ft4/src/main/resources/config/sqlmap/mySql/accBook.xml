<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="b90ft4.web.repository.mapper.AccBookMapper">
	
	<resultMap id="expenseCategoryMap" type="expenseCategoryVO">
		<result column="expense_Category_no" property="expenseCategoryNo" />
		<result column="expense_Category_name" property="expenseCategoryName" />
		<result column="User_id" property="userId" />
	</resultMap>
	
	<resultMap id="incomeCategoryMap" type="incomeCategoryVO">
		<result column="income_Category_no" property="incomeCategoryNo" />
		<result column="income_Category_name" property="incomeCategoryName" />
		<result column="User_id" property="userId" />
	</resultMap>

	<select id="selectExpenseCtgy" parameterType="string" resultMap="expenseCategoryMap">
		select * 
		  from tb_sam_expense_category
		where user_id = 'admin'
		   or user_id = #{userId}
		order by expense_category_no
	</select>

	<select id="selectIncomeCtgy" parameterType="string" resultMap="incomeCategoryMap">
		select * 
		  from tb_sam_income_category
		where user_id = 'admin'
		   or user_id = #{userId}
		order by income_category_no
	</select>
	
	<select id="count" resultMap="incomeCategoryMap" >
	 	select *
	 	  from tb_sam_income_category
	</select>
	
	<insert id="insertExpense" parameterType="expenseVO">
		insert into tb_sam_expense (
			user_id,
			expense_category_no,
			expense_content,
			expense_amount,
			expense_date
		) values( 
			#{userId},
			#{expenseCategoryNo},
			#{expenseContent},
			#{expenseAmount},
			#{expenseDate}
		)
	</insert>
	
	<insert id="insertIncome" parameterType="incomeVO">
		insert into tb_sam_income (
			user_id,
			income_category_no,
			income_content,
			income_amount,
			income_date
		) values( 
			#{userId},
			#{incomeCategoryNo},
			#{incomeContent},
			#{incomeAmount},
			#{incomeDate}
		)
	</insert>
	
	
</mapper>









